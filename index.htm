<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dralun · Deed to Domain</title>

<!-- resources -->
<link class="ico" rel="icon" href="https://cdn.jsdelivr.net/gh/nfnth/res@latest/icon/urland/favicon.ico" type="image/x-icon">
<link class="ico" rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/nfnth/res@latest/icon/urland/favicon.ico" type="image/x-icon">
<link class="ico" rel="apple-touch-icon" sizes="128x128" href="https://cdn.jsdelivr.net/gh/nfnth/res@latest/icon/urland/apple-touch-icon.png">
<link class="ico" rel="icon" sizes="192x192" href="https://cdn.jsdelivr.net/gh/nfnth/res@latest/icon/urland/android-chrome-192x192.png">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>	
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script></head>

<!-- menu -->
<nav id="main-menu" style="position: fixed;top:0; z-index:2;visibility:hidden;" class="loader">
  	<div class="nav-wrapper header" style="background-color:rgb(33, 124, 185); display:flex; justify-content: space-between;">
    		<div>
      			<a id="slider" href="#" data-target="user-pane" class="sidenav-trigger" style="background-color: #2f8fff;margin: 0;padding: 18;justify-items: center;display: flex;align-items: center;"><i class="material-icons">menu</i></a>
      			<a style="display: flex; align-items: center; height: 100%; "><img id="menu-logo" class="hide-on-med-and-down" onclick="mode=0; setEditor('../doc/CC.md');" draggable="false" ondragstart="return false;" style="height:48; width:48; cursor: pointer; margin-left: 16;" /></a></div>
    
		<a class="screen-hide" onclick="setEditor('map');"><i class="material-icons right">map</i></a>
    		<a id="domains-hide" class="screen-hide" href="#!" data-target="domain"><i class="material-icons right">view_list</i></a>
		<a id="artifacts-hide" class="screen-hide" href="#!" data-target="domain"><i class="material-icons right">view_list</i></a>
		
    		<a class="screen-hide" onclick="setSearch();"><i class="material-icons right">search</i></a>
		
    		<ul class="hide-on-med-and-down" >
			<li><a onclick="setEditor('map');">MAP</a></li>
      			<li><a id="domains" href="#!" data-target="domain">BOXES<i class="material-icons right">arrow_drop_down</i></a></li>
			<li><a id="artifacts" href="#!" data-target="artifact">ARTIFACTS<i class="material-icons right">arrow_drop_down</i></a></li>
			
      			<li style="height:64px;">
        			<a style="height:inherit; padding-right:0;"><i onclick="$('#search').focus();" style="height:inherit; padding-right:4;" class="material-icons">search</i><span onclick="$('#search').focus();" class="badge blue">1865</span>
        			<div id="search-box" class="input-field" style="height:inherit;">
          				<input id="search" type="search" onkeyup="searchResults()" style="padding-left:12; width: calc(100% - 1rem);">
          				<label class="label-icon" for="search" ></label>
          				<i class="material-icons" onclick="searchClear()">close</i></div></a></li></ul>
	
      		<div style="display:flex;"><a class="modal-trigger" href="#user-modal" onclick="$('#user-setting').sidenav('close');" style="justify-items: center;display: flex;align-items: center; margin-right:48;"><i class="material-icons">account_box</i></a></div></div></nav>

<!-- drop downs -->
<ul id="domain" class="dropdown-content loader" style="visibility:hidden;">
  	<li><a onclick="mode=0; setEditor('land');"><i class="material-icons">landscape</i>Domain Deed</a></li>
	<li><a onclick="mode=0; setEditor('tribe');"><i class="material-icons">cottage</i>Virtual Art</a></li>
  	<li><a onclick="mode=0; setEditor('drhab');"><i class="material-icons">inventory_2</i>Collectible</a></li></ul>

<ul id="artifact" class="dropdown-content loader" style="visibility:hidden;">
	<li><a onclick="mode=0; setEditor('civilplex');"><i class="material-icons">gps_fixed</i>Location</a></li>
	<li><a onclick="mode=0; setEditor('nfnth');"><i class="material-icons">photo_camera</i>Camera</a></li>

	<li class="divider" tabindex="-1"></li>
	<li><a onclick="mode=0; setEditor('nfnth');"><i class="material-icons">attachment</i>Attachment</a></li></ul>

<!-- panel -->
<ul id="user-pane" class="sidenav loader" style="visibility:hidden;">
	<li><div class="user-view z-depth-1" style="background-color: #eaf2f7;display: flex;margin: auto; padding: 0;align-items: flex-end;"><img draggable="false" ondragstart="return false;" id="user-pic" style="height: 72;margin-left:18; padding: 12;" src="https://cdn.jsdelivr.net/gh/nfnth/res@latest/site/shield.png" /></div></li>
  	<li style="text-align: center;"><a class="subheader">
    		<span style="font-size: 20;font-weight: bold; color: #000000;">Dralun</span>
    		<span style="margin-left:4;font-size: 16;font-weight: bold; color: #494646; ">· Deed to Domain</span></a></li>
  	<li style="height:24;"><a class="subheader"></a></li>
  	<li><a class="waves-effect" onclick="openInNewTab('https://github.com/nfnth'); $('#user-pane').sidenav('close');"><i class="material-icons">menu_book</i>How to Use Deed Domains</a></li>
	<li><a class="waves-effect" onclick="openInNewTab('https://github.com/nfnth/nfnth/blob/master/doc/CC.md'); $('#user-pane').sidenav('close');"><i class="material-icons">book</i>Read Civilian's Complex</a></li>
  	<li><a class="waves-effect" onclick="openInNewTab('https://github.com/nfnth/nfnth/issues'); $('#user-pane').sidenav('close');"><i class="material-icons">help</i>Submit Issues</a></li>
  	<li><div style="margin-top:0;" class="divider"></div></li>
  	<li><a class="subheader"></a></li>
  	<li><div id="header-logo" style="display: flex; flex-flow:column; align-items: center;justify-content: center;align-items: center; display: flex;">
      		<div id="header-logo">
        	<div id="logo" style="text-align:center;">
          		<img draggable="false" id="eagle-eye" style="width:64;height:48;" src="https://cdn.jsdelivr.net/gh/nfnth/res@latest/site/eagle/eagle1.png"/></div>
        		<div style="display: flex;align-items: center;justify-content: center;">
				<span id="title" style="font-weight: bold; font-size: 25px; color:blue;">Nf</span><span id="title" style="font-weight: bold; font-size: 25px;">Nth</span>
          			<i class="material-icons" >copyright</i>2021</div></div>
        		<div><span style="cursor: pointer;" onclick="openInNewTab('https://github.com/nfnth/nfnth/blob/master/doc/BROS.md'); $('#user-pane').sidenav('close');" class="new badge green darken-2" data-badge-caption="brOS, v1.02"></span></div>
      			<div id="header-title"><span id="phrase" style="font-style: italic;">software on infinitive basis</span></div></div></li></ul>

<!-- dialog -->
<div id="user-modal" class="modal">
	<div class="modal-content">
		<div id="intro" class="row-section">
			<div id="console" class="row hover-base" onclick="signer();" style="border: solid 1px darkgray;
    box-shadow: 2px 2px lightgrey; text-align:center;">   
				<img width="240" height="120" src="https://github.com/nfnth/res/raw/main/icon/metamask-logo-horizontal.svg" /></div>
			
			<div id="console" class="row hover-base" style="text-align:center;">-OR-</div>
			<div id="console" class="row hover-base">  
				<div class="input-field"><i class="material-icons prefix">mail</i><input type="text" id="user-email" name="user-email" class="user-input" placeholder="Enter email" /><label for="user-email">Email</label><span id="user-issue" class="helper-text" data-error="Invalid input" data-success="" >Enter Email</span></div></div>
				
			<div class="row hover-base" onclick="handleLoginWithMagicLink()" style="border: solid 1px darkgray;
    box-shadow: 2px 2px lightgrey; text-align:center;">
				<img  width="240" height="120" src="https://github.com/nfnth/res/raw/main/icon/logo.e302dbb6.svg" /></div>

	<!--<div class="modal-footer content loader">
	      <button id="button-next" class="btn waves-effect waves-light" onclick="signer();">Sign In<i class="material-icons left">login</i></button><a href="#!" class="modal-close waves-effect waves-gray btn-flat disabled">Cancel</a></div>-->
			</div></div></div>

<!-- home -->
<div id="home" style="text-align:center;margin-top:68;visibility:hidden; width:100%; z-index:1;" class="content loader">

<!-- search -->
<div id="results" style="margin:80; display:none;" class="content loader">search...</div>

<!-- map/store -->
<div id="map" ></div>
	<div class="fixed-action-btn">
  <a class="btn-floating btn-large red"><i class="large material-icons">mode_edit</i></a>
  <ul>
    <li><a class="btn-floating red"><i class="material-icons">insert_chart</i></a></li>
    <li><a class="btn-floating yellow darken-1"><i class="material-icons">format_quote</i></a></li>
    <li><a class="btn-floating green"><i class="material-icons">publish</i></a></li>
    <li><a class="btn-floating blue"><i class="material-icons">attach_file</i></a></li>
  </ul>
</div>
<!-- map/store 
<div id="land" class="content loader" style="display:none;">
	land deeds (landscape), tribal nations (cottage), stock/supply (inventory_2), collectibles (emoji_objects), artworks (card_membership) -->

<div id="grid" class="content loader" style="overflow-y: auto; height: 95%;">
	<div id="registry" class="collection">
		<a href="#!" class="collection-item active">Alvin</a>
		<a class="collection-item modal-trigger" href="#modal1">Purcahse</a></div></div>

<div id="modal1" class="modal bottom-sheet">
    <div class="modal-content"><h4>Modal Header</h4><p>A bunch of text</p></div>
	<li style="padding:12;">
      		<select multiple>
        		<option value="" disabled selected>Select By...</option>
	      		<option value="1" data-icon="https://cdn.jsdelivr.net/gh/nfnth/res@latest/site/color/color5.png"><a>Land</a></option>
        		<option value="2" data-icon="https://cdn.jsdelivr.net/gh/nfnth/res@latest/site/color/color1.png">Machine</option>
        		<option value="3" data-icon="https://cdn.jsdelivr.net/gh/nfnth/res@latest/site/color/color2.png">Monument</option>
        		<option value="3" data-icon="https://cdn.jsdelivr.net/gh/nfnth/res@latest/site/color/color3.png">Person</option>
        		<option value="3" data-icon="https://cdn.jsdelivr.net/gh/nfnth/res@latest/site/color/color4.png">Stock</option>
			<option value="3" data-icon="https://cdn.jsdelivr.net/gh/nfnth/res@latest/site/color/color4.png">Tribe</option></select></li>
  	<li style="padding:12;">
      		<select>
        		<option value="" disabled selected>Sort By...</option>
        		<option value="1" data-icon="https://cdn.jsdelivr.net/gh/nfnth/res@latest/site/color/color6.png">Name (Ascending)</option>
	      		<option value="1" data-icon="https://cdn.jsdelivr.net/gh/nfnth/res@latest/site/color/color6.png">Name (Descending)</option>
	      		<option value="2">Category</option></select></li>
    	<a class="waves-effect waves-light btn">Reset</a>
    <div class="modal-footer"><a href="#!" class="modal-close waves-effect waves-green btn-flat">Agree</a></div></div>

<script>
	//include embed mode for box/art/domain  

//		const preloadImage = src => 
  //         new Promise(r => {
    //         const image = new Image()
      //       image.onload = r
        //     image.onerror = r
          //   image.src = src })

function openInNewTab(url) { window.open(url, '_blank').focus(); }
	
function service(data) { alert('calling outside');
    $.ajax({ type: 'GET', url: 'https://ur.land/jsonp?' + data,jsonp: false,jsonpCallback: "my_callback", dataType: 'jsonp',
    success: function(data) { alert(data); console.log('Success!'); }, error: function(data) { alert(data); console.log('Uh Oh!'); }  }); }
              
    function my_callback(dataWeGotViaJsonp){ alert(dataWeGotViaJsonp);  }

async function initial() {
              $('select').formSelect(); 
              $('#domains').dropdown({ constrainWidth: false } ); $('#domains-hide').dropdown({ constrainWidth: false } ); 
              $('#artifacts').dropdown({ constrainWidth: false } ); $('#artifacts-hide').dropdown({ constrainWidth: false } ); 
          
              //$('.fixed-action-btn').floatingActionButton();
            $('.modal').modal();   $('#user-pane').sidenav(); 
              //$('#user-setting').sidenav({ edge: 'right' } );
          //  $('.collapsible').collapsible(); 
          //mode=0; 
              setEditor('map');
          
                  // await preloadImage('https://github.com/nfnth/res/raw/main/site/coat.png') // Preload an image
          //	await preloadImage('https://github.com/nfnth/res/raw/main/site/chimi_hi.png') 
          //	await preloadImage('https://github.com/nfnth/res/raw/main/site/chimi_cards.png') 
                   //await Promise.all(images.map(x => preloadImage(x.src))) // Preload a bunch of images in parallel 
              var elems = document.querySelectorAll('.fixed-action-btn');
              var instances = M.FloatingActionButton.init(elems, {
                hoverEnabled: false
              });
              
            setTimeout(function() {  $(".loader").css("visibility", "visible"); }, 500);
           //mermaid.initialize({startOnLoad:true});
            searchClear(); 
          
          var castle = Math.floor(Math.random() * (16 - 1 + 1)) + 1; 
          document.getElementById('menu-logo').src = "https://cdn.jsdelivr.net/gh/nfnth/res@latest/site/castle/castle" + castle.toString() + ".png";
          var eagle = Math.floor(Math.random() * (4 - 1 + 1)) + 1; 
          document.getElementById('eagle-eye').src = "https://cdn.jsdelivr.net/gh/nfnth/res@latest/site/eagle/eagle" + eagle.toString() + ".png";
          
          domain = window.location.host; if (domain != "dralun.com") { document.title = "UR.Land · " + domain; }
              
          var pathArray = window.location.pathname.split('/'); 
          switch (pathArray.length) {
              case 2:
                address = pathArray[1];// makeEditor();
                mode=0; //setEditor("../" + address + "/profile");
                //$.get("../" + address + "/profile", function (data) {  $("#home").html(renderMd(data));});
                break; } }
              
          initial(); 
              document.addEventListener('DOMContentLoaded', function() { var elems = document.querySelectorAll('.modal'); var instances = M.Modal.init(elems); });
              document.addEventListener('DOMContentLoaded', function() {
              
            });
              
          //function openInNewTab(url, tab=true) { if (tab) { var win = window.open(url, '_blank'); win.focus(); } else window.open(url, '_self'); }
          function searchClear() { $('#search').val(''); }
          function searchResults() { $.post("../search/word", $('#search').val(), function(data, status){ $('#results').html(data); }); }
          
          var mode = 0; //0(view), 1(edit), 2(preview), 3(list), 4(map), 5(stat), 7(mail), 8(game)
          function setEditor(doc) {  $('#'+doc).show(); }
            // var width = window.innerWidth; var height = window.innerHeight - 44; //menu, footer
            // $("#holder").hide(); $("#viewer").hide(); $("#code").hide(); $("#grid").hide(); $("#map").hide(); $("#stats").hide();
            // $("#land").hide(); $("#tribe").hide(); $("#drhab").hide(); $("#civilplex").hide(); $("#nfnth").hide(); 
           
          //	$("#stats").show();
                     //var fields = manifest[0].split('|');
                          //	  var div = document.getElementById('registry');
          
                              //div.innerHTML += "<a onclick='showDomain(0);' class='collection-item'>" + fields[0] + '</a>';
                                //alert(result[0]); 

if (typeof window.ethereum !== 'undefined') {console.log('MetaMask is installed!'); }
	async function signer() {

const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
const account = accounts[0]; alert(account); }

//	const transactionParameters = {
  //nonce: '0x00', // ignored by MetaMask
  //gasPrice: '0x09184e72a000', // customizable by user during MetaMask confirmation.
  //gas: '0x2710', // customizable by user during MetaMask confirmation.
  //to: '0x0000000000000000000000000000000000000000', // Required except during contract publications.
  //from: ethereum.selectedAddress, // must match user's active address.
  //value: '0x00', // Only required to send ether to the recipient from the initiating external account.
  //data:
  //  '0x7f7465737432000000000000000000000000000000000000000000000000000000600057', // Optional, but used for defining smart contract creation and interaction.
 // chainId: '0x3', // Used to prevent transaction reuse across blockchains. Auto-filled by MetaMask.
//};

// txHash is a hex string
//const txHash = await ethereum.request({
//  method: 'eth_sendTransaction',
//  params: [transactionParameters],
//});
</script>